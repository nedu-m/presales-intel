{% extends "base.html" %}

{% block title %}{{ brief.company_name }} - Presales Intel{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <!-- Back button -->
    <div class="mb-6">
        <a href="/briefs/history" class="btn btn-ghost btn-sm">
            ‚Üê Back to History
        </a>
    </div>

    <!-- Brief Card -->
    <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
            <!-- Header -->
            <div class="flex justify-between items-start mb-6">
                <div>
                    <h1 class="text-4xl font-bold">{{ brief.company_name }}</h1>
                    <p class="text-sm text-base-content/60 mt-2">
                        Generated {{ brief.created_at.strftime('%B %d, %Y at %I:%M %p') }}
                    </p>
                </div>
                <button onclick="window.print()" class="btn btn-outline">
                    üñ®Ô∏è Print
                </button>
            </div>

            <!-- Meeting Info -->
            {% if brief.meeting_date or brief.attendees %}
            <div class="bg-base-200 p-4 rounded-lg mb-6">
                {% if brief.meeting_date %}
                <p class="mb-2"><strong>Meeting Date:</strong> {{ brief.meeting_date.strftime('%B %d, %Y') }}</p>
                {% endif %}
                {% if brief.attendees %}
                <p><strong>Attendees:</strong> {{ brief.attendees }}</p>
                {% endif %}
            </div>
            {% endif %}

            <!-- Full Brief -->
            <div class="markdown-content prose max-w-none">
                {{ brief.full_brief|markdown|safe }}
            </div>

            <!-- Actions -->
            <div class="card-actions justify-end mt-8 pt-6 border-t">
                <button onclick="copyToClipboard()" class="btn btn-outline">
                    üìã Copy to Clipboard
                </button>
                <a href="/" class="btn btn-primary">
                    Generate New Brief
                </a>
            </div>
        </div>
    </div>
</div>

<script>
function copyToClipboard() {
    const text = document.querySelector('.markdown-content').innerText;
    navigator.clipboard.writeText(text).then(() => {
        alert('Brief copied to clipboard!');
    });
}
</script>
{% endblock %}

